buildscript {
    repositories {
        mavenCentral()
    }
    dependencies {
        classpath 'com.android.tools.build:gradle:0.9.+'
        classpath fileTree(dir: '../gradle-plugin',
            includes: ['sdk-manager-plugin-0.9.2-SNAPSHOT.jar'])
    }
}

apply plugin: 'android-sdk-manager'
apply plugin: 'android-library'
apply plugin: 'maven'

repositories {
    mavenCentral()
}

android {
    compileSdkVersion 19
    buildToolsVersion "19.0.3"

    defaultConfig {
        minSdkVersion 8
        targetSdkVersion 19
    }
}

configurations {
    archives {
        extendsFrom configurations.default
    }
}

uploadArchives {
    configuration = configurations.archives
    repositories.mavenDeployer {

        repository(url: java.lang.System.getProperty("gradle.repository.url")) {
            authentication(userName: java.lang.System.getProperty("gradle.repository.username"),
                    password: java.lang.System.getProperty("gradle.repository.password"))
        }

        pom.project {
            artifactId = 'network-request-loader'
            groupId = 'com.qiwi.android.utils'
            version = '1.0.1'
            name 'Android AsyncTaskLoader for executing network requests'
            packaging 'aar'
        }
    }
}

dependencies {
    compile 'com.android.support:support-v4:19.0.0'
}
